{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/PopupEditProfile.js","components/PopupAddPlace.js","utils/api.js","utils/config.js","components/PopupImage.js","components/PopupEditAvatar.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","Logo","alt","CurrentUserContext","React","createContext","Card","props","card","useContext","style","backgroundImage","link","onClick","onCardClick","name","_id","Main","currentUser","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","slice","map","item","PopupWithForm","isOpen","id","Close","onClose","title","onSubmit","noValidate","children","PopupEditProfile","required","type","placeholder","minLength","maxLength","PopupAddPlace","api","config","getInitialCards","fetch","baseUrl","headers","then","res","_getResponseData","addCardPage","method","body","JSON","stringify","getUsersInfo","updateUserInfo","data","removeCard","setLikeCard","unLikeCard","addNewAvatar","ok","json","Promise","reject","status","this","authorization","PopupImage","PopupEditAvatar","avatarRef","useRef","event","preventDefault","onUpdateAvatar","current","value","ref","App","useState","setCards","setCurrentUser","isPopupEditProfileOpen","setIsPopupEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","useEffect","all","user","catch","err","console","log","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5541a228.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.812fc7b5.svg\";","import React from \"react\";\r\nimport Logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header root__section\">\r\n      <img src={Logo} alt=\"mesto logo\" className=\"logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","  \r\nimport React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const card = props.card;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(card.link, card.name);\r\n  }\r\n\r\n  // const isOwn = card.owner._id === currentUser._id;\r\n  return (\r\n    <div className=\"place-card\" key={ card._id }>\r\n      <div className=\"place-card__image\" style={{ backgroundImage: `url(${ card.link })` }} onClick={ handleClick } >\r\n        <button className=\"place-card__delete-icon\"></button>\r\n      </div>\r\n      <div className=\"place-card__description\">\r\n        <h3 className=\"place-card__name\">{ card.name }</h3>\r\n        <button className=\"place-card__like-icon\"></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"profile root__section\">\r\n        <div className=\"user-info\">\r\n          <div className=\"user-info__photo\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n          <div className=\"user-info__data\">\r\n            <h1 className=\"user-info__name\">{currentUser.name}</h1>\r\n            <p className=\"user-info__job\">{currentUser.about}</p>\r\n            <button onClick={props.onEditProfile} className=\"button button_edit user-info__edit\">\r\n              Редактировать\r\n            </button>\r\n          </div>\r\n          <button onClick={props.onAddPlace} className=\"button user-info__button\">\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"places-list root__section\">\r\n        {props.cards.slice(0, 50).map((item) => (\r\n          <Card key={item._id} card={ item} onCardClick={ props.onCardClick } />\r\n        ))}  \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/close.888d78eb.svg\";","import React from \"react\";\r\nimport Close from \"../images/close.svg\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={ `popup popup_type_${ props.name } ${ props.isOpen }` } id=\"popup-place\">\r\n      <div className=\"popup__content\">\r\n        <img src={Close} alt=\"\" className=\"popup__close\" id=\"popupClose\" onClick={ props.onClose } />\r\n        <h3 className=\"popup__title\">{ props.title }</h3>\r\n        <form className=\"popup__form\" name={ props.name } onSubmit={ props.onSubmit } noValidate>\r\n          { props.children }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction PopupEditProfile(props) {\r\n  \r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen ? \"popup_is-opened\" : \"\"}\r\n      title=\"Редактировать профиль\"\r\n      onClose={ props.onClose }\r\n      name=\"profile\"\r\n      children={\r\n        <>\r\n          <input id=\"user-name\" required type=\"text\" name=\"user-name\" className=\"popup__input popup__input_type_user-name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"30\" />\r\n          <span id=\"user-name-error\" className=\"error\"></span>\r\n          <input required id=\"about\" type=\"text\" name=\"about\" className=\"popup__input popup__input_type_about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"30\" />\r\n          <span id=\"about-error\" className=\"error\"></span>\r\n          <button type=\"submit\" className=\"button popup__button popup__button_edit\">\r\n            Сохранить\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupEditProfile;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction PopupAddPlace(props) {\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen ? \"popup_is-opened\" : \"\"}\r\n      name=\"card\"\r\n      title=\"Новое место\"\r\n      onClose={ props.onClose }\r\n      children={\r\n        <>\r\n          <input required id=\"name-card\" type=\"text\" name=\"name\" className=\"popup__input popup__input_type_name\" placeholder=\"Название\" />\r\n          <span id=\"name-card-error\" className=\"error\"></span>\r\n          <input required id=\"link\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_link-url\" placeholder=\"Ссылка на картинку\" />\r\n          <span id=\"link-error\" className=\"error\"></span>\r\n          <button type=\"submit\" className=\"button popup__button\">\r\n            +\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupAddPlace;\r\n","import config from \"./config\";\r\n\r\nclass Api {\r\n  constructor(config) {\r\n    this.baseUrl = config.baseUrl;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  getInitialCards = () => {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  addCardPage = (card) => {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify(card)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  getUsersInfo = () => {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  updateUserInfo = (data) => {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  removeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  setLikeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  unLikeCard = id => {\r\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  addNewAvatar = avatar => {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify(avatar)\r\n    })\r\n      .then(res =>\r\n        this._getResponseData(res));\r\n  }\r\n\r\n  _getResponseData = res => {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\nconst api = new Api(config)\r\nexport default api;","const config = {\r\n  baseUrl: 'https://nomoreparties.co/cohort11',\r\n  headers: {\r\n    authorization: '1f3b5d59-037b-410d-b189-d9392e7c23de',\r\n    'Content-Type': 'application/json'\r\n  }\r\n};\r\n\r\nexport default config;","import Close from \"../images/close.svg\";\r\n\r\nfunction PopupImage(props) {\r\n  return (\r\n    <div className={ (props.card.isOpen ? `popup popup_type_${ props.name } popup_is-opened` : `popup popup_type_${ props.name }`) } id=\"popup-image\">\r\n      <div className=\"popup__image\">\r\n        <img src={Close} alt=\"\" className=\"popup__close popup__close_image\" id=\"popupClose\" onClick={ props.onClose } />\r\n        <img src={ props.card.link } className=\"popup__image-open\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupImage;","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from 'react'\r\n\r\nfunction PopupEditAvatar(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen ? \"popup_is-opened\" : \"\"}\r\n      title=\"Обновить аватар\"\r\n      onClose={ props.onClose }\r\n      onSubmit={ handleSubmit }\r\n      name=\"avatar\"\r\n      children={\r\n        <>\r\n          <input ref={avatarRef} id=\"avatarlink\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_avatar\" placeholder=\"Ссылка на аватар\" minLength=\"2\" />\r\n          <span id=\"user-name-error\" className=\"error\"></span>          \r\n          <button type=\"submit\" className=\"button popup__button popup__button_edit\">\r\n            Сохранить\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopupEditAvatar;","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupEditProfile from \"./PopupEditProfile\";\nimport PopupAddPlace from \"./PopupAddPlace\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupImage from \"./PopupImage\";\nimport PopupEditAvatar from \"./PopupEditAvatar\";\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isPopupEditProfileOpen, setIsPopupEditProfileOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    link: '',\n    name: ''\n  });\n\n  function handleEditProfileClick() {\n    setIsPopupEditProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(link, name) {\n    setSelectedCard({\n      isOpen: true,\n      link: link,\n      name: name\n    });\n  }\n\n  function closeAllPopups() {\n    setIsPopupEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      link: '',\n      name: ''\n    });\n  }\n\n  React.useEffect(() => {\n    Promise.all([api.getUsersInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);        \n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  function handleUpdateAvatar(data) {\n    api.addNewAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main cards={cards} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n        <PopupEditProfile isOpen={isPopupEditProfileOpen} onClose={closeAllPopups} />\n        <PopupAddPlace isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <PopupImage card={selectedCard} onClose={closeAllPopups} />\n        <PopupEditAvatar isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}